<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>将 VSCode 连接到远程主机上的 WSL | Sol 1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="一些生活小技巧（">
<meta property="og:type" content="article">
<meta property="og:title" content="将 VSCode 连接到远程主机上的 WSL">
<meta property="og:url" content="http://soly5tic.github.io/2026/02/04/connect-remote-wsl/index.html">
<meta property="og:site_name" content="Sol 1">
<meta property="og:description" content="一些生活小技巧（">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2026-02-04T02:12:00.000Z">
<meta property="article:modified_time" content="2026-02-04T13:25:26.039Z">
<meta property="article:author" content="Sol 1">
<meta property="article:tag" content="整活">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Sol 1" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon_32.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Sol 1</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://soly5tic.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-connect-remote-wsl" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2026/02/04/connect-remote-wsl/" class="article-date">
  <time class="dt-published" datetime="2026-02-04T02:12:00.000Z" itemprop="datePublished">2026-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      将 VSCode 连接到远程主机上的 WSL
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>一些生活小技巧（</p>
<span id="more"></span>
<h2 id="0-问题"><a class="markdownIt-Anchor" href="#0-问题"></a> 0. 问题</h2>
<p>我在上 AI 基础课时遇到了这样一个问题：</p>
<ul>
<li>我有两台设备，以下记为 A 和 B，均安装 Windows 操作系统。</li>
<li>A 是轻薄本，没有配备独立显卡，因此我不希望使用 A 训练模型。</li>
<li>B 配备了独立显卡，但是重量大于 A，续航小于 A，因此我不希望在白天上课的时候带着 B 跑来跑去。</li>
<li>我需要训练模型，但是训练模型需要很长时间，并且我需要根据训练效果调整参数。</li>
</ul>
<p>我在上这个课的时候采取的方案：</p>
<ul>
<li>强行使用 A 的 CPU 训练模型。但是这样不仅训练得慢，A 还会失去其续航优势。</li>
<li>使用市面上的远程桌面软件，但也会大幅降低 A 的续航，并且操作着也很卡。</li>
<li>白天上课带着 B。但是跑模型的话 B 的续航就更短了，可能一节课下来就没电了。并且我带着 B 跑来跑去也很累。</li>
<li>只在晚上回宿舍时操作 B。但是这样（尤其在模型较小时）会有大量时间空机，可能在作业 ddl 之前也调不出足够好的参数。</li>
</ul>
<p>显然这些方案都不够好。因此我（后来）研制了一个新的方案，可以使用 A 的 VSCode（也包括 Cursor、TRAE 等采用 VSCode 内核的 IDE）直连 B 的 WSL，并直接在 VSCode 内编辑 / 运行代码，也可以直接使用 Cursor 等 IDE 的 AI 功能。</p>
<p>这样就可以把算力更强的设备放在家 / 宿舍里面开着运行训练模型等算力密集的任务，并使用随身携带的设备随时远程进行各种操作（例如调参数并重新训练等等）以充分利用机时改良参数，改善 AI 基础课程的学习体验。</p>
<h2 id="1-保持设备唤醒"><a class="markdownIt-Anchor" href="#1-保持设备唤醒"></a> 1. 保持设备唤醒</h2>
<p>我们需要在无法直接操作 B 的情况下保持 B 唤醒，才能随时从 A 通过 SSH 连接到 B。</p>
<p>直接在设置里面改电源设置可能由于各种原因无法保持设备唤醒。这里推荐使用 Microsoft PowerToys Awake。设置为“无限期保持唤醒状态”即可保持唤醒。</p>
<p><s>当然还有一个要注意的点是：如果你的 B 设备放在家里，注意提醒家里人不要把你 B 设备的电源拔了……</s></p>
<h2 id="2-连接到同一局域网"><a class="markdownIt-Anchor" href="#2-连接到同一局域网"></a> 2. 连接到同一局域网</h2>
<p>如果 B 在家里，那么由于 B 连接的是家里的局域网而 A 连接的是学校的局域网，将无法直接从 A 到 B 建立 SSH 连接。</p>
<p>这里可以使用 <a target="_blank" rel="noopener" href="https://www.zerotier.com/">ZeroTier</a> 将 A 和 B 连接到同一个虚拟局域网。连接后，A 和 B 将获得同一个私有 IP 地址（默认似乎形如 10.144.x.x，不过可以改）。</p>
<p>连接完成后，托盘里面会出现一个 ZeroTier UI 的图标。右键 → 你创建的网络名 → Managed Addresses 查看分配的私有 IP。从 A 设备 ping 一下 B 设备的私有 IP 查看局域网是否配置正确。</p>
<h2 id="3-端口转发"><a class="markdownIt-Anchor" href="#3-端口转发"></a> 3. 端口转发</h2>
<p>此时 A 还无法看到 B 的 WSL。如果你觉得直接在 Windows 下面开发也没啥问题，那么可以跳过这一步，直接在 A 的 VSCode 里面通过 SSH 连接到 B，然后就完事了。</p>
<p>如果你希望使用 WSL，则首先在 WSL 内部安装并启动 ssh 服务，然后查询 WSL 自己的 IP 地址用于端口转发。对于 Ubuntu，可以使用 <code>ip addr</code>，形如 <code>172.x.x.x</code> 的地址就是我们需要的地址，以下记为 <code>&lt;WSL_IP&gt;</code>。</p>
<p>接下来在 Windows 中执行端口转发。以管理员权限运行以下命令以建立端口转发规则：</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy add v4tov4 ^</span><br><span class="line">  listenport=<span class="number">2222</span> listenaddress=<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span> ^</span><br><span class="line">  connectport=<span class="number">22</span> connectaddress=&lt;WSL_IP&gt;</span><br></pre></td></tr></table></figure>
<p>其中 <code>2222</code> 可以换成任意你喜欢的端口。在设置前可以查看已有规则避免冲突。</p>
<p>建立后在防火墙中放行对应端口：</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netsh advfirewall firewall add rule name=&quot;WSL2-SSH&quot; ^</span><br><span class="line">  <span class="built_in">dir</span>=<span class="keyword">in</span> action=allow protocol=TCP localport=<span class="number">2222</span></span><br></pre></td></tr></table></figure>
<p>这一步完成后，即可在 A 上通过命令 <code>ssh &lt;WSL_Username&gt;@&lt;B_ZT_IP&gt; -p 2222</code> 与 B 的 WSL 建立 SSH 连接，其中 <code>&lt;WSL_Username&gt;</code> 是 WSL 的用户名，<code>&lt;B_ZT_IP&gt;</code> 是 B 在 ZeroTier 网络中的虚拟地址。</p>
<h2 id="4-vscode-直连"><a class="markdownIt-Anchor" href="#4-vscode-直连"></a> 4. VSCode 直连</h2>
<p>直接安装 Remote-SSH 插件，或者在一些地方（例如开始界面）找到 连接远程主机 → SSH，并按照提示操作即可。操作很直白，不做赘述。如果需要输入 SSH 连接命令，命令就是 <code>ssh &lt;WSL_Username&gt;@&lt;B_ZT_IP&gt; -p 2222</code>。</p>
<p>至此即大功告成！</p>
<hr />
<p>但是考虑到自己买的设备再强大也是消费级设备，要做工业级实验必须得租算力 / 偷实验室的算力，而连服务器一般也不用自己配所有这些东西（服务器端一般都帮你配好了），所以这只是个面向应付课程 / 自己瞎玩的场景的解决方案。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://soly5tic.github.io/2026/02/04/connect-remote-wsl/" data-id="cml82bi02000al0u2hgyp8uh1" data-title="将 VSCode 连接到远程主机上的 WSL" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
        <a href="/2026/02/04/connect-remote-wsl/#comments" class="article-comment-link">
          <span class="post-comments-count valine-comment-count fa fa-comment" data-xid="/2026/02/04/connect-remote-wsl/" itemprop="commentCount"></span>
          Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B4%E6%B4%BB/" rel="tag">整活</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2026/02/01/buy-or-creds-with-crypto/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">使用加密货币购买 OpenRouter credit 踩坑记录</div>
    </a>
  
</nav>

  
</article>



  <section id="comments" class="vcomment">

  </section>
</section>
        
          <aside id="sidebar">
  
      <div class="widget-wrap">
    <h3 class="widget-title">Friends</h3>
    <div class="widget">
      <ul>
        <li>
          <a target="_blank" rel="noopener" href="https://www.blog-e.top/">Blog-E</a>
        </li>
      </ul>
    </div>
  </div>
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B4%E6%B4%BB/" rel="tag">整活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B8%E8%AE%B0/" rel="tag">游记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%98%E8%A7%A3/" rel="tag">题解</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 15px;">总结</a> <a href="/tags/%E6%95%B4%E6%B4%BB/" style="font-size: 15px;">整活</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 10px;">杂谈</a> <a href="/tags/%E6%B8%B8%E8%AE%B0/" style="font-size: 20px;">游记</a> <a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 20px;">题解</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/02/">February 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/01/">January 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">November 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">October 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2026/02/04/connect-remote-wsl/">将 VSCode 连接到远程主机上的 WSL</a>
          </li>
        
          <li>
            <a href="/2026/02/01/buy-or-creds-with-crypto/">使用加密货币购买 OpenRouter credit 踩坑记录</a>
          </li>
        
          <li>
            <a href="/2026/01/31/flash-attn-installation/">Flash Attention 安装记录</a>
          </li>
        
          <li>
            <a href="/2026/01/12/collapse-piano/">Collapse (feat. 藍月なくる) 钢琴改编</a>
          </li>
        
          <li>
            <a href="/2025/11/23/icpc50-regional-sh/">二周目 ICPC 上海站游记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Page Views</h3>
          <img src="https://badges.toozhao.com/badges/01HN5MV9JDS57RZF30YTKM0DVY/green.svg" alt="Page Views Count">
  </div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2026 Sol 1<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'false' == true;
    var verify = 'false' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "eCOqy671NBhdnqpII5jCnb9f-gzGzoHsz",
        appKey: "OWLPWcS3Bjm5x1YJG144u61I",
        placeholder: "Just go go",
        pageSize:'10',
        avatar:'mm',
        lang:'zh-cn'
    });
</script>

  </div>
</body>
</html>